import{_ as b}from"./AuthenticatedLayout-CEEWPpBo.js";import{m as B,q as C,g as a,o as i,a as n,d,h as N,w as r,b as e,l as x,f as l,F as f,s as A,t as u,n as S,c as g,i as y,u as p}from"./app-Kyz17IOw.js";import{P as _}from"./PrimaryButton-BO-x8j6s.js";import{_ as v,D as F}from"./SecondaryButton-gUyq5v0n.js";import"./ApplicationLogo-BRwB8erY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"py-12"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},D={class:"p-6 text-gray-900"},L={class:"flex justify-between items-center mb-6"},P={key:0,class:"text-center py-12"},M={class:"mt-6"},T={key:1,class:"overflow-x-auto"},q={class:"min-w-full divide-y divide-gray-200"},z={class:"bg-white divide-y divide-gray-200"},E={class:"px-6 py-4 whitespace-nowrap"},G={class:"text-sm font-medium text-gray-900"},I={class:"px-6 py-4 whitespace-nowrap"},R={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},U={class:"px-6 py-4 whitespace-nowrap"},Y={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},H={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},K={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},O={class:"flex items-center justify-end space-x-2"},oe=B({__name:"Index",props:{buckets:{}},setup(Q){const c=C(null),h=o=>{p({}).post(route("buckets.test",o),{preserveScroll:!0})},w=o=>{p({}).post(route("buckets.activate",o),{preserveScroll:!0})},k=o=>{confirm("Are you sure you want to remove this bucket configuration?")&&(c.value=o,p({}).delete(route("buckets.destroy",o),{preserveScroll:!0,onFinish:()=>{c.value=null}}))};return(o,t)=>(i(),a(f,null,[n(d(N),{title:"Buckets"}),n(b,null,{header:r(()=>t[0]||(t[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Storage Buckets ",-1)])),default:r(()=>[e("div",$,[e("div",V,[e("div",j,[e("div",D,[e("div",L,[t[2]||(t[2]=e("h3",{class:"text-lg font-medium"},"Your Connected Buckets",-1)),n(d(x),{href:o.route("buckets.create")},{default:r(()=>[n(_,null,{default:r(()=>t[1]||(t[1]=[l("Add New Bucket",-1)])),_:1,__:[1]})]),_:1},8,["href"])]),o.buckets.length===0?(i(),a("div",P,[t[4]||(t[4]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)),t[5]||(t[5]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No buckets connected",-1)),t[6]||(t[6]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by connecting your first storage bucket.",-1)),e("div",M,[n(d(x),{href:o.route("buckets.create")},{default:r(()=>[n(_,null,{default:r(()=>t[3]||(t[3]=[l("Add New Bucket",-1)])),_:1,__:[3]})]),_:1},8,["href"])])])):(i(),a("div",T,[e("table",q,[t[11]||(t[11]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Provider "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Bucket "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Last Connected "),e("th",{class:"relative px-6 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",z,[(i(!0),a(f,null,A(o.buckets,s=>(i(),a("tr",{key:s.id},[e("td",E,[e("div",G,u(s.name),1)]),e("td",I,[e("span",{class:S(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-blue-100 text-blue-800":s.provider==="r2","bg-orange-100 text-orange-800":s.provider==="s3"}])},u(s.provider.toUpperCase()),3)]),e("td",R,u(s.bucket_name),1),e("td",U,[s.is_active?(i(),a("span",Y," Active ")):(i(),a("span",H," Inactive "))]),e("td",J,u(s.last_connected_at||"Never"),1),e("td",K,[e("div",O,[n(v,{onClick:m=>h(s.id),class:"text-xs"},{default:r(()=>t[7]||(t[7]=[l(" Test ",-1)])),_:2,__:[7]},1032,["onClick"]),s.is_active?y("",!0):(i(),g(v,{key:0,onClick:m=>w(s.id),class:"text-xs"},{default:r(()=>t[8]||(t[8]=[l(" Activate ",-1)])),_:2,__:[8]},1032,["onClick"])),s.is_active?(i(),g(d(x),{key:1,href:o.route("files.index"),class:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:r(()=>t[9]||(t[9]=[l(" Browse Files ",-1)])),_:1,__:[9]},8,["href"])):y("",!0),n(F,{onClick:m=>k(s.id),disabled:c.value===s.id,class:"text-xs"},{default:r(()=>t[10]||(t[10]=[l(" Remove ",-1)])),_:2,__:[10]},1032,["onClick","disabled"])])])]))),128))])])]))])])])])]),_:1})],64))}});export{oe as default};

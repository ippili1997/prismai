import{_}from"./AuthenticatedLayout-BLzpSxRM.js";import{m as b,p as C,g as n,o as r,a as i,d,h as B,w as a,b as e,l as m,F as g,q as S,c as f,f as c,t as l,n as A,i as j,u}from"./app-B9wWLYBX.js";import{_ as h,D as N}from"./SecondaryButton-CbiMx5ng.js";import"./ApplicationLogo-B2lDYo2Y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},V={class:"grid md:grid-cols-2 gap-6 mb-8"},z={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},F={class:"p-6 text-gray-900"},R={key:0,class:"text-center py-12"},D={key:1,class:"overflow-x-auto"},L={class:"min-w-full divide-y divide-gray-200"},T={class:"bg-white divide-y divide-gray-200"},q={class:"px-6 py-4 whitespace-nowrap"},E=["onClick"],G={class:"px-6 py-4 whitespace-nowrap"},P={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},U={class:"px-6 py-4 whitespace-nowrap"},W={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},Y={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800"},H={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},I={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},J={class:"flex items-center space-x-2"},te=b({__name:"Index",props:{buckets:{}},setup(K){const p=C(null),v=o=>{u({}).post(route("buckets.test",o),{preserveScroll:!0})},y=o=>{u({}).post(route("buckets.activate",o),{preserveScroll:!0})},k=o=>{u({}).post(route("buckets.activate",o),{preserveScroll:!0,onSuccess:()=>{window.location.href=route("files.index",{bucket:o})}})},w=o=>{confirm("Are you sure you want to remove this bucket configuration?")&&(p.value=o,u({}).delete(route("buckets.destroy",o),{preserveScroll:!0,onFinish:()=>{p.value=null}}))};return(o,t)=>(r(),n(g,null,[i(d(B),{title:"Buckets"}),i(_,null,{header:a(()=>t[0]||(t[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Storage Buckets ",-1)])),default:a(()=>[e("div",M,[e("div",$,[e("div",V,[i(d(m),{href:o.route("buckets.create",{provider:"s3"}),class:"block"},{default:a(()=>t[1]||(t[1]=[e("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg hover:shadow-lg transition-shadow cursor-pointer border-2 border-transparent hover:border-green-500"},[e("div",{class:"p-8 text-center"},[e("div",{class:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-10 h-10 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7c0 2.21-3.582 4-8 4S4 9.21 4 7s3.582-4 8-4 8 1.79 8 4z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12c0 2.21-3.582 4-8 4s-8-1.79-8-4"})])]),e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Amazon S3"),e("p",{class:"text-sm text-gray-600"},"Connect your AWS S3 buckets for scalable cloud storage"),e("div",{class:"mt-4"},[e("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800"}," Add S3 Bucket → ")])])],-1)])),_:1,__:[1]},8,["href"]),i(d(m),{href:o.route("buckets.create",{provider:"r2"}),class:"block"},{default:a(()=>t[2]||(t[2]=[e("div",{class:"bg-white overflow-hidden shadow-sm sm:rounded-lg hover:shadow-lg transition-shadow cursor-pointer border-2 border-transparent hover:border-orange-500"},[e("div",{class:"p-8 text-center"},[e("div",{class:"w-16 h-16 mx-auto mb-4 bg-orange-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-10 h-10 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})])]),e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Cloudflare R2"),e("p",{class:"text-sm text-gray-600"},"Connect your R2 buckets for S3-compatible storage at the edge"),e("div",{class:"mt-4"},[e("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-orange-100 text-orange-800"}," Add R2 Bucket → ")])])],-1)])),_:1,__:[2]},8,["href"])]),e("div",z,[e("div",F,[t[8]||(t[8]=e("div",{class:"mb-6"},[e("h3",{class:"text-lg font-medium"},"Your Connected Buckets")],-1)),o.buckets.length===0?(r(),n("div",R,t[3]||(t[3]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No buckets connected",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by connecting your first storage bucket using the options above.",-1)]))):(r(),n("div",D,[e("table",L,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Provider "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Bucket "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Last Connected "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",T,[(r(!0),n(g,null,S(o.buckets,s=>(r(),n("tr",{key:s.id},[e("td",q,[s.is_active?(r(),f(d(m),{key:0,href:o.route("files.index",{bucket:s.id}),class:"text-sm font-medium text-indigo-600 hover:text-indigo-900 hover:underline cursor-pointer"},{default:a(()=>[c(l(s.name),1)]),_:2},1032,["href"])):(r(),n("button",{key:1,onClick:x=>k(s.id),class:"text-sm font-medium text-gray-600 hover:text-indigo-600 hover:underline cursor-pointer text-left"},l(s.name),9,E))]),e("td",G,[e("span",{class:A(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",{"bg-orange-100 text-orange-800":s.provider==="r2","bg-green-100 text-green-800":s.provider==="s3"}])},l(s.provider.toUpperCase()),3)]),e("td",P,l(s.bucket_name),1),e("td",U,[s.is_active?(r(),n("span",W," Active ")):(r(),n("span",Y," Inactive "))]),e("td",H,l(s.last_connected_at||"Never"),1),e("td",I,[e("div",J,[i(h,{onClick:x=>v(s.id),class:"text-xs"},{default:a(()=>t[4]||(t[4]=[c(" Test ",-1)])),_:2,__:[4]},1032,["onClick"]),s.is_active?j("",!0):(r(),f(h,{key:0,onClick:x=>y(s.id),class:"text-xs"},{default:a(()=>t[5]||(t[5]=[c(" Activate ",-1)])),_:2,__:[5]},1032,["onClick"])),i(N,{onClick:x=>w(s.id),disabled:p.value===s.id,class:"text-xs"},{default:a(()=>t[6]||(t[6]=[c(" Remove ",-1)])),_:2,__:[6]},1032,["onClick","disabled"])])])]))),128))])])]))])])])])]),_:1})],64))}});export{te as default};

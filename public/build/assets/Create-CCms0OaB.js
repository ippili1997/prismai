import{m as y,u as k,g as n,o as i,a as o,d as s,h as v,w as m,b as t,e as b,i as p,k as x,p as V,t as c,f,l as w,F as h}from"./app-Kyz17IOw.js";import{_ as S}from"./AuthenticatedLayout-CEEWPpBo.js";import{_ as d,a as u,b as a}from"./TextInput-D0SxWvPd.js";import{P as C}from"./PrimaryButton-BO-x8j6s.js";import"./ApplicationLogo-BRwB8erY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"py-12"},U={class:"max-w-2xl mx-auto sm:px-6 lg:px-8"},R={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},q={class:"p-6"},B={class:"mt-1 text-sm text-gray-600"},F={key:0},N={key:1},D={class:"flex items-center gap-4"},I={class:"mt-8 p-4 bg-blue-50 rounded-lg"},M={class:"text-sm font-medium text-blue-800 mb-2"},P={key:0,class:"text-sm text-blue-700 space-y-1"},E={key:1,class:"text-sm text-blue-700 space-y-1"},O=y({__name:"Create",setup(K){const e=k({name:"",provider:"r2",bucket_name:"",region:"",access_key_id:"",secret_access_key:"",endpoint:"",public_url:""}),_=()=>{e.post(route("buckets.store"),{onFinish:()=>{e.hasErrors||e.reset("access_key_id","secret_access_key")}})};return(g,l)=>(i(),n(h,null,[o(s(v),{title:"Add Bucket"}),o(S,null,{header:m(()=>l[8]||(l[8]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Add Storage Bucket ",-1)])),default:m(()=>[t("div",A,[t("div",U,[t("div",R,[t("div",q,[t("form",{onSubmit:b(_,["prevent"]),class:"space-y-6"},[t("div",null,[o(d,{for:"name",value:"Friendly Name"}),o(u,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(e).name,"onUpdate:modelValue":l[0]||(l[0]=r=>s(e).name=r),required:"",autofocus:"",placeholder:"My Storage Bucket"},null,8,["modelValue"]),o(a,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),t("div",null,[o(d,{for:"provider",value:"Storage Provider"}),x(t("select",{id:"provider","onUpdate:modelValue":l[1]||(l[1]=r=>s(e).provider=r),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",required:""},l[9]||(l[9]=[t("option",{value:"r2"},"Cloudflare R2",-1),t("option",{value:"s3"},"Amazon S3",-1)]),512),[[V,s(e).provider]]),o(a,{class:"mt-2",message:s(e).errors.provider},null,8,["message"])]),t("div",null,[o(d,{for:"bucket_name",value:"Bucket Name (from provider)"}),o(u,{id:"bucket_name",type:"text",class:"mt-1 block w-full",modelValue:s(e).bucket_name,"onUpdate:modelValue":l[2]||(l[2]=r=>s(e).bucket_name=r),required:"",placeholder:"my-bucket-name"},null,8,["modelValue"]),o(a,{class:"mt-2",message:s(e).errors.bucket_name},null,8,["message"]),t("p",B," The exact bucket name from "+c(s(e).provider==="r2"?"Cloudflare R2":"AWS S3"),1)]),s(e).provider==="s3"?(i(),n("div",F,[o(d,{for:"region",value:"Region"}),o(u,{id:"region",type:"text",class:"mt-1 block w-full",modelValue:s(e).region,"onUpdate:modelValue":l[3]||(l[3]=r=>s(e).region=r),required:s(e).provider==="s3",placeholder:"us-east-1"},null,8,["modelValue","required"]),o(a,{class:"mt-2",message:s(e).errors.region},null,8,["message"])])):p("",!0),t("div",null,[o(d,{for:"access_key_id",value:"Access Key ID (from provider)"}),o(u,{id:"access_key_id",type:"text",class:"mt-1 block w-full font-mono text-sm",modelValue:s(e).access_key_id,"onUpdate:modelValue":l[4]||(l[4]=r=>s(e).access_key_id=r),required:"",autocomplete:"off"},null,8,["modelValue"]),o(a,{class:"mt-2",message:s(e).errors.access_key_id},null,8,["message"])]),t("div",null,[o(d,{for:"secret_access_key",value:"Secret Access Key (from provider)"}),o(u,{id:"secret_access_key",type:"password",class:"mt-1 block w-full font-mono text-sm",modelValue:s(e).secret_access_key,"onUpdate:modelValue":l[5]||(l[5]=r=>s(e).secret_access_key=r),required:"",autocomplete:"off"},null,8,["modelValue"]),o(a,{class:"mt-2",message:s(e).errors.secret_access_key},null,8,["message"])]),s(e).provider==="r2"?(i(),n("div",N,[o(d,{for:"endpoint",value:"Endpoint URL (from R2 dashboard)"}),o(u,{id:"endpoint",type:"url",class:"mt-1 block w-full",modelValue:s(e).endpoint,"onUpdate:modelValue":l[6]||(l[6]=r=>s(e).endpoint=r),required:s(e).provider==="r2",placeholder:"https://account-id.r2.cloudflarestorage.com"},null,8,["modelValue","required"]),o(a,{class:"mt-2",message:s(e).errors.endpoint},null,8,["message"])])):p("",!0),t("div",null,[o(d,{for:"public_url",value:"Public URL (Optional)"}),o(u,{id:"public_url",type:"url",class:"mt-1 block w-full",modelValue:s(e).public_url,"onUpdate:modelValue":l[7]||(l[7]=r=>s(e).public_url=r),placeholder:"https://your-public-domain.com"},null,8,["modelValue"]),o(a,{class:"mt-2",message:s(e).errors.public_url},null,8,["message"]),l[10]||(l[10]=t("p",{class:"mt-1 text-sm text-gray-600"}," If you have a custom domain configured for your bucket ",-1))]),o(a,{class:"mt-2",message:s(e).errors.connection},null,8,["message"]),t("div",D,[o(C,{disabled:s(e).processing},{default:m(()=>[f(c(s(e).processing?"Testing Connection...":"Add Bucket"),1)]),_:1},8,["disabled"]),o(s(w),{href:g.route("buckets.index"),class:"text-sm text-gray-600 hover:text-gray-900"},{default:m(()=>l[11]||(l[11]=[f(" Cancel ",-1)])),_:1,__:[11]},8,["href"])])],32),t("div",I,[t("h3",M,c(s(e).provider==="r2"?"Cloudflare R2":"Amazon S3")+" Configuration Help ",1),s(e).provider==="r2"?(i(),n("div",P,l[12]||(l[12]=[t("p",null,"1. Go to Cloudflare Dashboard → R2 → Manage R2 API Tokens",-1),t("p",null,"2. Create a token with Object Read & Write permissions",-1),t("p",null,"3. Copy the Access Key ID and Secret Access Key",-1),t("p",null,"4. Find your endpoint URL in R2 → Settings",-1)]))):(i(),n("div",E,l[13]||(l[13]=[t("p",null,"1. Go to AWS IAM Console → Users → Security credentials",-1),t("p",null,"2. Create an access key for programmatic access",-1),t("p",null,"3. Ensure the user has S3 read/write permissions",-1),t("p",null,"4. Use your bucket's region (e.g., us-east-1, eu-west-1)",-1)])))])])])])])]),_:1})],64))}});export{O as default};
